# CARSI 学术认证用户脚本

## 脚本简介

CARSI 学术认证脚本是一个专为高校师生设计的自动化登录工具，用于简化 CARSI 认证流程，实现一键登录学术资源。

## 功能特性

-   🎓 **学术认证**：专为 CARSI 认证体系设计
-   🏫 **多校支持**：支持中国各大高校 CARSI 认证
-   ⚡ **自动登录**：一键完成复杂的认证流程
-   🔐 **信息缓存**：安全存储个人认证信息
-   ⚙️ **个性化设置**：支持多种认证偏好配置
-   🎯 **智能跳转**：自动识别当前认证阶段

## 安装要求

-   浏览器需要安装用户脚本管理器（推荐 ScriptCat）
-   需要支持 `GM_setValue` 和 `GM_getValue` 存储 API
-   需要 SweetAlert2 弹窗库支持（已自动加载）

## 支持平台

### 主认证平台

-   **CARSI 统一认证**：`https://ds.carsi.edu.cn/*`
-   **各高校 IDP**：`https://idp.*.edu.cn/*`（通配符匹配）

## 核心功能

### 1. 学校选择自动化

-   **首字母筛选**：根据学校名称拼音首字母快速定位
-   **精确匹配**：通过学校全称进行精确选择
-   **记忆功能**：记住上次选择的学校信息

### 2. 用户信息自动填写

-   **账号自动填充**：自动填写学号/工号
-   **密码安全存储**：加密存储密码信息
-   **缓存策略**：可选择是否缓存登录信息

### 3. 隐私设置管理

-   **隐私声明处理**：自动接受或跳过隐私声明
-   **信息共享控制**：
    -   不共享任何信息
    -   仅当前服务共享
    -   所有服务共享
-   **缓存清除**：支持自动清除认证缓存

### 4. 个人页面跳转

-   **认证完成后**：可选择是否自动跳转到个人中心
-   **资源访问**：直接进入已授权的资源页面

## 配置方法

### 初次使用设置

1. **安装脚本**：将脚本安装到用户脚本管理器
2. **打开设置**：点击 Tampermonkey 图标 → CARSI 学术认证 → 设置 info
3. **填写信息**：在弹出的配置窗口中填写：

#### 必填信息

-   **学校拼音首字母**：如清华大学填 "Q"
-   **学校全称**：如 "清华大学"
-   **账号**：您的学号或工号
-   **密码**：您的统一认证密码

#### 可选设置

-   **记住用户**：记住学校选择（推荐开启）
-   **不缓存**：每次都不缓存登录信息
-   **清除缓存**：登录时清除之前的认证缓存
-   **共享范围**：控制信息共享范围
-   **跳转个人页面**：认证完成后是否跳转到个人页面

### 配置示例

```
学校拼音首字母: Q
学校全称: 清华大学
账号: 2023001234
密码: ********
记住用户: ✓
共享范围: 所有服务
跳转个人页面: ✓
```

## 使用流程

需要手动配置信息，进入网站之后会自动登录
